{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst searchParams = new URLSearchParams({\n  key: '42384910-73277182c896d015737fb8e33',\n  q: null,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nform.addEventListener('submit', e => {\n  const galleryLightBox = new SimpleLightbox('.gallery-photo a');\n  e.preventDefault();\n\n  gallery.innerHTML = '';\n\n  if (input.value === '') {\n    iziToast.show({\n      message: 'Input must not be empty. Please try again!',\n      iconUrl: '/img/error-icon.png',\n      messageColor: 'white',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n    });\n  } else {\n    loader.classList.remove('hidden');\n    searchParams.set('q', `${input.value}`);\n\n    fetch(`https://pixabay.com/api?${searchParams}`, {\n      headers: {\n        Accept: 'application/json',\n      },\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.hits.length < 1) {\n          loader.classList.add('hidden');\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            iconUrl: '/img/error-icon.png',\n            messageColor: 'white',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n          });\n        } else {\n          const markup = data.hits\n            .map(\n              hit => `<li>\n      <div class=\"gallery-photo\">\n        <a href=\"${hit.largeImageURL}\"\n          ><img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\"\n        /></a>\n      </div>\n      <div class=\"text-wrapper\">\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">likes</p>\n          <p>${hit.likes}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Views</p>\n          <p>${hit.views}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Comments</p>\n          <p>${hit.comments}</p>\n        </div>\n        <div class=\"list-item-container\">\n          <p class=\"header-text\">Downloads</p>\n          <p>${hit.downloads}</p>\n        </div>\n      </div>\n    </li>`\n            )\n            .join('');\n          loader.classList.add('hidden');\n          gallery.insertAdjacentHTML('beforeend', markup);\n          galleryLightBox.refresh();\n        }\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n});\n"],"names":["form","input","gallery","loader","searchParams","e","galleryLightBox","SimpleLightbox","iziToast","response","data","markup","hit","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAG,KACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAK,CACnC,MAAMC,EAAkB,IAAIC,EAAe,kBAAkB,EAC7DF,EAAE,eAAc,EAEhBH,EAAQ,UAAY,GAEhBD,EAAM,QAAU,GAClBO,EAAS,KAAK,CACZ,QAAS,6CACT,QAAS,sBACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UAChB,CAAK,GAEDL,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAa,IAAI,IAAK,GAAGH,EAAM,KAAK,EAAE,EAEtC,MAAM,2BAA2BG,CAAY,GAAI,CAC/C,QAAS,CACP,OAAQ,kBACT,CACP,CAAK,EACE,KAAKK,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,OAAS,EACrBP,EAAO,UAAU,IAAI,QAAQ,EAC7BK,EAAS,KAAK,CACZ,QACE,2EACF,QAAS,sBACT,aAAc,QACd,gBAAiB,UACjB,SAAU,UACtB,CAAW,MACI,CACL,MAAMG,EAASD,EAAK,KACjB,IACCE,GAAO;AAAA;AAAA,mBAEFA,EAAI,aAAa;AAAA,uBACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAM1CA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,eAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,eAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,eAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,UAIf,EACA,KAAK,EAAE,EACVT,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,mBAAmB,YAAaS,CAAM,EAC9CL,EAAgB,QAAO,CACxB,CACT,CAAO,EACA,MAAMO,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,EAEP,CAAC"}